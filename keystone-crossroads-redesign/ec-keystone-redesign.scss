@import "ec-custom-variables";
@import "ec-custom-mixins";


@mixin keystone-text-effects {
	@include text-color-effects($kc-main-color, $kc-bright, $kc-vibrant);
};

@mixin keystone-color-effects {
	@include color-effects (background-color, $kc-main-color, $kc-bright, $kc-vibrant);
}


body {

	&.keystone-crossroads {

		a {

			&:hover, &:active, &:focus, &:visited{
				text-decoration: none;
			} 
		}

		@include font-smoothing;

		.no-padd {
			padding: 0;
		}

		#toggle-button{
			background-color: $kc-main-color;
		}

		.logo-holder {

			a.icon-keystonecrossroads.kc-cat-logo {
				font-size: 2.5rem;
				//color: $kc-main-color;
				color: #fff;
				//@include keystone-text-effects;

				&:hover, &:active, &:focus {
					text-decoration: none;
					color: #b3b3b3;
				}

			}

		}  // logo-holder

		

		.kc-social-icons-header {
			margin-top: 0;
			text-align: right;

			a {
				color: #fff;
				margin-right: 1rem;
				font-size: 1rem;

				&:hover, &:active {
					@include keystone-text-effects;
				}

				@include mobile-lg {
					font-size: 1.5rem;
				}

				@include tablet {
					font-size: 2rem;
					margin-right: 2rem;
				}


			}
		}

		.kc-social-icons-footer {
			@extend .kc-social-icons-header;
			margin-top: 2rem;
			
		}


		#sub-nav-bar {
			//@include color-effects (background-color, $kc-main-color, $kc-color-old, $kc-vibrant);
			//background-color: $kc-main-color;
			padding-top: 1.2rem;
			color: $kc-dark-gray;
			text-transform: uppercase;
			font-weight: bold;
			letter-spacing: .1em;
			cursor: pointer;
			background-color: white;
			//@include keystone-color-effects;
			//background-color: $kc-main-color;
			display: none;
			height: auto;
			position: fixed;


			@include desktop {
				display: block;
				padding-bottom: 2rem;

				.dropdown:hover .dropdown-menu {
					display: block;
				}


				a {
					color: #000;
				}



				.sub-nav-left, .sub-nav-right {

					margin-left: 0;
					padding-left: 0;
					padding-right: 0;
					text-align: left;

					ul {
						margin-left: 0;
						padding-left: 0;
						text-align: center;
						font-size: 0.55rem;

						li {
							//margin-right: 0;
							//margin-left: 2%;
							margin-right: 1rem;
							display: inline-block;
							text-align: center;
							width: 20%;

							&:last-of-type {
								margin-right: 0;
							}

							&:hover, &:active {
								border-bottom: 4px solid $kc-carla-green;
							}

							@include desktop-lg {
								width: 22%;
							}

							.dropdown-menu {
								border: none;
								background-color: $kc-white-transp-plus;
								//width: 100%;
								padding-left: 0;
								left: 50%;
								right: auto;
								text-align: center;
								transform: translate(-50%, 0);

								li {
									margin-left: 0;
									margin-right: 0;
									margin-top: 0.5rem;
									background-color: $kc-carla-green;
									width: 100%;
									//padding: 0.5rem;

									&:hover, &:active {
										background-color: $kc-white-transp;
									}

									a {
										color: #fff;
										font-size: .6rem;
										font-weight: bold;

										&:hover, &:active {
											color: #000;
										}

										@include desktop-lg {
											font-size: .75rem;
										}

									}
								}
							} // dropdown-menu
						}  // li

						@include desktop-lg {
							text-align: left;
					
						}
					}

					@include desktop-lg {
						ul {
							font-size: .7rem;
							padding-left: 15px;
						}
					}

				}  //  sub-nav-left	

			}  //  @include desktop

		}  // #sub-nav-bar


				

		.top-feature {
			display: block;
			margin-top: 5rem;

			@include desktop {
				margin-top: 140px;
			}

			.photo-box {
				position: relative;
				margin-bottom: 1rem;
			}

			.text-box {
				color: #fff;
				//background-color: $kc-dark-gray;
				//background-color: $kc-white-transp;
				background-color: $kc-dark-transp;
				padding: 1rem;
				position: absolute;
				width: 100%;
				//bottom: 0;
				top: 0;
				@include hover-transition (background-color);
				&:hover {
					background-color: $kc-dark-transp-plus;
				}

				//opacity: .5;

				

				h4, p {
					display: none;
				}

				h2 {
					font-size: 1.25rem;
				}



				@include tablet {

					h4 {
						font-size: .8rem;
						margin-bottom: .5rem;
						display: none;

					}

					h2 {
						margin-bottom: .75rem;
						font-size: 2rem;
						text-align: left;
						padding-left: 4%;
						padding-right: 4%;
					}

					p {
						display: none;
						padding-left: 4%;
						padding-right: 4%;
					}

					p:last-of-type {
						margin: 0;
					}

					a {
						color: #fff;
					}

					&:hover {
						h4, p {
							display: inherit;
						}
					}

				} // include tablet
				
			}   //closes text-box

		}  // closes top-feature


		.latest {

				margin-top: 1rem;
				padding-left: 15px;
				padding-right: 15px;

				

				.latest-news-heading {
					padding: 0.5rem;
					margin-bottom: 0;
					background-color: #afbe58;
					display: inline-block;

					
					h4 {
						font-size: 1.5rem;
						font-weight: bold;
						display: inline-block;
						color: #fff;
					}
				}

				.glyphicon {
					display: none;

					@include desktop {
						display: inline-block;
						padding-top: .5rem;
						font-size: 2rem;
						padding-left: 0;
						padding-right:0;

					}

					
				}

				.latest-slider {
					display: inline-block;
					
					margin-right: 0;
					padding-right: 0;

					.latest-article-group {
						
						white-space: nowrap;
						display: inline-block;
						width: 100%;
						height: auto;

						@include desktop {
							overflow: hidden;
						}
						
						//height: 5rem;

						.latest-article-item {
							padding-top: 0.5rem;
							padding-right: 0.5rem;
							padding-bottom: 0;
							padding-left: 0.5rem;
							float: none;
							display:inline-block;
							border-right: 1px solid black;
							width: 100%;
							height: auto;

							/*@include desktop {
								overflow: hidden;
							}
							*/
							


							a {
								width: 100%;

								h4 {
									font-size: .7rem;
									margin-bottom: .1em;
									letter-spacing: .05em;
									color: #4D4D4D;
									
								}

								h2 {
									font-size: 1rem;
									line-height: 1.25em;
									color: #000;
									display: inline-block;
									width: 100%;
								}

							}  // a

						}  // latest-item

					}  //  latest-list-section

					//.latest-ul-2 {
					//	@extend .latest-ul;
					//	display: none;
					//}

					.ec-arrow-right {
						display: none;
						height: 0;

						@include desktop {
							display: inline-block;
							height: auto;
							text-align: right;
						}
						
					}

					.ec-arrow-left {
						display: none;
						height: 0;

						@include desktop {
							display: inline-block;
							height: auto;
							text-align: left;
						}
						
					}

				}  //  latest-slider

			
		}  //  latest



		.secondary-feature {

			margin-top: 2rem;

			.photo-box {
				position: relative;
				margin-bottom: 1.8rem;
			}

			.text-box {
				color: #fff;
				background-color: $kc-dark-transp;
				padding: 1rem;
				position: absolute;
				width: 100%;
				//bottom: 0;
				top: 0;

				@include hover-transition (background-color);

				&:hover {
					background-color: $kc-dark-transp-plus;
				}

				h2 {
					margin-bottom: .5rem;
					font-size: 1.25rem;
				}

				a {
					color: #fff;
				}

			} // text-box

		}  // secondary-feature


		.more-features {
			background-color: #969696;
			margin-bottom: 2.5rem;
			padding-top: 1rem;
			padding-bottom: .75rem;
			text-align: center;
		
			.more-features-button {
				display: inline-block;

				a {
					text-align: center;
					color: #fff;
					display: inline-block;

					.glyphicon {
						
						font-size: 1.3rem;
						margin-left: -5px;
						margin-right: -5px;
						font-size: 1.3rem;

						@include mobile-lg {
							margin-left: 0;
							margin-right: 0px;
							font-size: 1.5rem;
						}
					}

					h2 {
						
						font-size: 1.25rem;
						display: inline-block;
						vertical-align: super;
						padding-left: .5rem;
						padding-right: .5rem;

						@include tablet {
							padding-left: 1rem;
							padding-right: 1rem;
						}
					}


					&:hover, &:active {
						color: #000;
					}
				}  // a

			}  // more-features-button

			@include tablet {
				margin-bottom: 1.5rem;				
			}

		}	 // more-features


		.category-highlights-wrapper {
			background-color: $kc-carla-green;
			width: 100%;
		}


		.category-highlights {
			margin-top: 0;
			padding-top: 4rem;
			padding-bottom: 4rem;

			.category-block {
				margin-top: 4rem;

				&:first-of-type {
					margin-top: 0;
				}

				
				.photo-box {
					width: 85%;
					text-align: center;
					margin: 0 auto;
					position: relative;

					@include mobile-lg {
						width: 60%;
					}

					@include tablet {
						width: 85%;
					}

					img {
						
						border-radius: 50%;
						margin: 0 auto;
						box-shadow: 0 0 8px 8px black inset;
						-webkit-filter: grayscale(1);
						filter: grayscale(1);
						-webkit-filter: brightness(0.3);
						filter: brightness(0.3);

						&:hover {
							-webkit-filter: grayscale(0.7);
							filter: grayscale(0.7);
							-webkit-filter: brightness(0.8);
							filter: brightness(0.8);
						}
				
					}  //img

					&:hover, &:active {
						.text-box {
							display: none;
						}
					}

					.text-box {
						display: block;
						color: #fff;
					    padding: .5rem;
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    top: 50%;
						left: 50%;
						transform: translate(-50%, -50%);

					    h2 {
					    	display: block;
					    	font-size: 2rem;
					    	
					    }


					}

				} // photo-box

				
				@include tablet {
					margin-top: 0;
				}

			}  //  category-block

			@include tablet {
				padding-top: 2rem;
				padding-bottom: 2rem;
			}	

		}  // category-highlights	



		.newsletter-signup {
			margin-top: 1.5rem;
			margin-bottom: 1.5rem;
			text-align: center;
			color: #000;

			h2 {
				margin-bottom: .5rem;
			}

			input[type=text] {
				width: 100%;
				margin: .5rem 0;
				padding-top: .5rem;
				padding-bottom: .5rem;
				-moz-box-shadow:    inset 0 0 10px #000000;
			    -webkit-box-shadow: inset 0 0 10px #000000;
			    box-shadow:         inset 0 0 10px #000000;
			}	

			button {
				display: block;
				margin: .5rem auto;
				@include keystone-color-effects;
				width: 60%;
				padding-top: .5rem;
				padding-bottom: .5rem;
				color: #fff;
				border-radius: .25rem;
				-webkit-box-shadow: inset 9px 13px 52px 2px rgba(196,194,196,0.49);
				-moz-box-shadow: inset 9px 13px 52px 2px rgba(196,194,196,0.49);
				box-shadow: inset 9px 13px 52px 2px rgba(196,194,196,0.49);

			}
	
		}  //  newsletter-signup

		.footer-info {
			margin-top: 0;
			margin-bottom: 2.5rem;
			text-align: center;
			padding-left: 15px;
			padding-right: 15px;

			h2 {
				margin-bottom: 1rem;
			}

			.kc-partner-stations {
				margin-top: 1.5rem;
				margin-bottom: 1.5rem;
				color: #000;

				a {
					color: #000;
					margin-right: 2rem;
					line-height: 2rem;

					&:last-of-type {
						margin-right: none;
					}

					&:hover, &:active {
						@include keystone-text-effects;
					}

					@include tablet {
						line-height: 1rem;
					}
				}

				.partner-icons-left {
					padding-left: 0;
					padding-right: 0;

					a {
						padding: 0;
					}

					text-align: center;

					@include tablet {
						text-align: right;
					}
				}

				.partner-icons-right {
					margin-top: 2rem;
					text-align: center;
					padding-left: 0;
					padding-right: 0;

					a {
						padding: 0;
					}

					@include tablet {
						margin-top: 0;
						text-align: left;
					}
				}
			} // kc-partner-stations

			.footer-logo {
				margin-top: 1.5rem;
				margin-bottom: 1.5rem;
				text-align: center;

				.kc-logo-footer {
					color: #000;
					width: 100%;
					text-align: center;
					

					&:hover, &:active {
						@include keystone-text-effects;
					}
				}
			} // footer-logo

			.footer-text {
				margin-top: 1.5rem;
				margin-bottom: 1.5rem;
				color: #000;

				p {
					margin-bottom: 1.5rem;
					text-align: center;

					&:last-of-type {
						margin-bottom: none;
						font-weight: bold;
					}
				}
			}  //  footer-text

			.kc-team {
				margin-top: 1.5rem;
				margin-bottom: 1.5rem;
				color: #000;
			}

			

			.kc-supported-by {
				margin-top: 1.5rem;
				margin-bottom: 1.5rem;
				color: #000;

				a {
					color: #000;

					&:hover {
						@include keystone-text-effects;
					}
				}
			}

			
		}  // footer-info

	}/*END BODY.KEYSTONE-CROSSROADS*/

}/*END BODY*/